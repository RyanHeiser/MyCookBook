<ResourceDictionary xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
                    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml">

    <DataTemplate x:Key="RecipeListDataTemplate">
        <DataTemplate.Resources>
            <ResourceDictionary>
                <ResourceDictionary.MergedDictionaries>
                    <ResourceDictionary Source="/Resources/ConverterResourceDictionary.xaml" />
                    <ResourceDictionary Source="/Resources/Themes/FontThemes.xaml" />
                    <ResourceDictionary Source="/Resources/Themes/Buttons/ButtonThemeResourceDictionary.xaml" />
                </ResourceDictionary.MergedDictionaries>
            </ResourceDictionary>
        </DataTemplate.Resources>

        <Grid>
            <Grid.ColumnDefinitions>
                <ColumnDefinition Width="auto" SharedSizeGroup="ImageColumn" />
                <ColumnDefinition Width="*" />
                <ColumnDefinition Width="auto" />
            </Grid.ColumnDefinitions>
            <Grid.RowDefinitions>
                <RowDefinition SharedSizeGroup="RecipeRow" MinHeight="80" />
            </Grid.RowDefinitions>
            
            
            <Image
                Grid.Row="0"
                Grid.RowSpan="2"
                Grid.Column="0"
                Margin="2 2 20 2"
                MaxHeight="80"
                Source="{Binding RawThumbnailData,
                    Converter={StaticResource ByteArrayToBitmapConverter},
                    Mode=OneWay}" />

            <Grid Grid.Column="1" VerticalAlignment="Stretch">

                <Grid.RowDefinitions>
                    <RowDefinition Height="*"  />
                    <RowDefinition Height="auto" />
                </Grid.RowDefinitions>
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="auto" SharedSizeGroup="RecipeInfoCol0" />
                    <ColumnDefinition Width="*" />
                </Grid.ColumnDefinitions>

                <Grid
                    Grid.Row="0"
                    Grid.Column="0"
                    VerticalAlignment="Stretch"
                    Margin="0 0 0 5">
                    <TextBlock 
                        VerticalAlignment="Center"
                        Style="{StaticResource Subtitle}"
                        Text="{Binding Name}" />
                </Grid>


                <StackPanel
                    Grid.Row="1"
                    Grid.Column="0"
                    VerticalAlignment="Center"
                    Orientation="Horizontal">
                    <StackPanel 
                            Visibility="{Binding HasTime, Converter={StaticResource BooleanToVisibilityConverter}}"
                            Orientation="Horizontal">
                        <TextBlock 
                                Margin="0 0 5 0"
                                FontWeight="Bold" 
                                Text="Time:" />
                        <TextBlock 
                                Margin="0 0 5 0" 
                                Text="{Binding Hours}" />
                        <TextBlock
                                Margin="0 0 5 0"
                                Text="hrs" />
                        <TextBlock 
                                Margin="0 0 5 0" 
                                Text="{Binding Minutes}" />
                        <TextBlock
                                Margin="0 0 30 0"
                                Text="min" />
                    </StackPanel>
                    <StackPanel
                            Visibility="{Binding HasServings, Converter={StaticResource BooleanToVisibilityConverter}}"
                            Orientation="Horizontal">
                        <TextBlock 
                                Margin="0 0 5 0"
                                FontWeight="Bold"
                                Text="Servings:" />
                        <TextBlock 
                                Text="{Binding Servings}" />
                    </StackPanel>
                </StackPanel>

                <!-- <TextBlock Grid.Row="0" Grid.RowSpan="2" Grid.Column="1" TextWrapping="Wrap" MaxHeight="45" VerticalAlignment="Center" Text="{Binding Description}" Margin="60 0 20 0" /> -->

            </Grid>

            <StackPanel 
                Grid.Row="0"
                Grid.RowSpan="2"
                Grid.Column="2"
                VerticalAlignment="Center"
                Orientation="Horizontal">
                <Button
                    Content="Move"
                    Command="{Binding DataContext.MoveRecipeCommand, ElementName=Root}"
                    CommandParameter="{Binding Recipe}"
                    MaxHeight="40"
                    Padding="5" />
                <Button
                    Content="Edit"
                    Command="{Binding DataContext.EditRecipeCommand, ElementName=Root}"
                    CommandParameter="{Binding Recipe}"
                    MaxHeight="40"
                    Margin="10 0 0 0"
                    Padding="5" />
                <Button
                    Style="{StaticResource DeleteButton}"
                    Content="Delete"
                    Command="{Binding DataContext.DeleteRecipeCommand, ElementName=Root}"
                    CommandParameter="{Binding Recipe}"
                    MaxHeight="40"
                    Margin="10 0 0 0"
                    Padding="5" />
            </StackPanel>

        </Grid>
    </DataTemplate>
    
</ResourceDictionary>